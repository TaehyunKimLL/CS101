---
marp: true
theme: gaia
size: 16:9
paginate: true
lang: ko-KR
footer: Taehyun Kim ( thkim@legacylab.pro )
---

# C 언어 Chapter 3: 연산자와 표현식

---

## 오늘 목표
- 연산자 종류를 분류해서 이해한다
- 연산자 우선순위/결합 규칙을 구분한다
- 자동 형 변환과 관련 실수를 줄인다
- 잘 쓰이지 않는 연산자도 개념을 익힌다

---

## 진행 순서
1. 연산자 분류
2. 우선순위와 결합 규칙
3. 자동 형 변환
4. 자주 하는 실수
5. 덜 쓰는 연산자 맛보기

---

## 연산자 분류 (한눈에)
- 산술: `+ - * / %`
- 증감: `++ --`
- 비교: `== != < <= > >=`
- 논리: `&& || !`
- 비트: `& | ^ ~ << >>`
- 대입: `= += -= *= /= %=`
- 조건: `?:`
- 기타: `sizeof`, `,` 등

---

## 표현식이란?
- 값으로 평가되는 코드 조각

```c
int a = 3 + 4;     // 3 + 4가 표현식
double b = a / 2;  // a / 2가 표현식
```

---

## 우선순위와 결합 규칙

- 우선순위: 먼저 계산되는 연산자
- 결합 규칙: 같은 우선순위에서 방향
  - 대부분 왼쪽 → 오른쪽
  - 대입, 조건 연산자는 오른쪽 → 왼쪽

---

## 중요한 우선순위 (요약)

<style scoped>
section { font-size: 220%; }
</style>

1. 단항: `! ~ ++ -- (type) sizeof`
2. 곱셈: `* / %`
3. 덧셈: `+ -`
4. 시프트: `<< >>`
5. 비교/등가: `< <= > >=` / `== !=`
6. 비트: `& ^ |`
7. 논리: `&& ||`
8. 조건: `?:`
9. 대입: `= += -= ...`
10. 콤마: `,`

---

## 괄호는 가장 안전한 해법
```c
int x = 2 + 3 * 4;      // 14
int y = (2 + 3) * 4;    // 20
```

---

## 나눗셈의 함정 (정수/실수)
```c
int a = 5, b = 2;
double c = a / b;       // 2.0
double d = (double)a / b; // 2.5
```

---

## 자동 형 변환 (정수 승격)
- 작은 타입은 `int`로 승격
- `char`, `short` 연산 시 `int`로 변환

```c
char a = 100, b = 30;
int c = a + b; // int
```

---

## 자동 형 변환 (유형 통합)
- 서로 다른 타입은 더 넓은 타입으로 변환
- `int` + `double` → `double`

```c
int a = 3;
double b = 0.5;
double c = a + b; // 3.5
```

---

## signed/unsigned 혼합 주의
```c
int a = -1;
unsigned int b = 1;
if (a < b) { /* 기대와 다를 수 있음 */ }
```

---

## 비교 연산 실수
```c
if (a = b) { /* 대입 */ }
if (a == b) { /* 비교 */ }
```

---

## 논리 연산 단축 평가
- `&&`와 `||`는 필요하면 평가를 멈춤

```c
if (p != NULL && p->x > 0) { ... }
```

---

## 증감 연산자 (전위/후위)
```c
int a = 1;
int b = ++a; // a=2, b=2
int c = a++; // a=3, c=2
```

---

## 복합 대입 연산자
```c
x += 5;   // x = x + 5
x *= 2;   // x = x * 2
```

---

## 조건 연산자 `?:`
```c
int max = (a > b) ? a : b;
```

---

## 비트 연산 간단 예시
```c
unsigned int x = 0x0F;
unsigned int y = x << 1; // 0x1E
```

---

## 잘 안 쓰는 연산자: `sizeof`
- 타입/변수의 바이트 크기 반환

```c
size_t n = sizeof(int);
```

---

## 잘 안 쓰는 연산자: 콤마 `,`
- 여러 표현식을 왼→오 순서로 평가
- 마지막 값이 결과

```c
int x = (a=1, b=2, a+b); // x=3
```

---

## 잘 안 쓰는 연산자: 비트 NOT `~`
```c
unsigned char x = 0x0F;
unsigned char y = ~x; // 0xF0
```

---

## 잘 안 쓰는 연산자: 조건부 컴파일?
- 연산자는 아님, 전처리 지시자
- `#if`, `#ifdef` 등 (개념만)

---

## 실습 1: 우선순위 확인
```c
int x = 2 + 3 * 4 - 5;
```
- 결과를 예측 후 출력 확인

---

## 실습 2: 형 변환
```c
int a = 7, b = 2;
double c = a / b;
double d = (double)a / b;
```
- 두 결과 비교

---

## 실습 3: 비트 마스크
```c
unsigned int flags = 0;
flags |= (1u << 1);
flags |= (1u << 3);
```
- 결과를 16진수로 출력

---

## 체크포인트
- 우선순위와 결합 규칙을 설명할 수 있나요?
- 자동 형 변환이 언제 일어나는지 이해했나요?
- `==`와 `=` 실수를 구분할 수 있나요?

---

## 정리
- 괄호로 의도를 명확히 한다
- 정수/실수 혼합 연산에 주의한다
- 덜 쓰는 연산자도 개념만 익혀둔다

---

## 다음 시간 예고
- 조건문과 분기
